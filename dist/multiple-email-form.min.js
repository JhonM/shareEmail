!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).shareForm={})}(this,(function(e){"use strict";function i(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var t=function(){function e(i,t){!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=i,this.props=t,this.emails=(null==t?void 0:t.emails)||[],this.build(this.emails)}var t,n,a;return t=e,(n=[{key:"build",value:function(){this.buildList(this.emails)}},{key:"buildList",value:function(){for(var e,i,t,n=this;this.selector.firstChild;)this.selector.removeChild(this.selector.firstChild);this.emails.forEach((function(e){n.selector.appendChild(function(e){var i,t=e.valid,n=document.createElement("div");return n.dataset.shareForm="share-box-email-label-container",n.tabIndex=0,n.classList.add(t?"valid":"invalid"),n.innerHTML=(i=e.email,'\n    <label data-share-form="share-box-email-label">\n      '.concat(i,' <span data-share-form="share-box-email-close" tabindex="0">x</span>\n    </label>\n  ')),n.querySelector('[data-share-form="share-box-email-close"]').addEventListener("click",(function(i){e.action(i)})),n}({email:e,action:function(){return n.removeEmail(e)},valid:!1}))})),this.selector.appendChild((e={placeholder:this.emails.length>0?"add more people...":"add a person...",onBlur:function(e){return n.onBlur(e)}},(t=document.createElement("div")).dataset.shareForm="share-box-input-container",t.innerHTML=(i=e.placeholder,'\n    <input type="email" placeholder="'.concat(i,'" />\n  ')),t.querySelector("input").addEventListener("blur",(function(i){e.onBlur(i)})),t))}},{key:"addEmail",value:function(e){this.emails.push(e),this.build(this.emails)}},{key:"randomEmail",value:function(){this.emails.push("push@push.it"),this.build(this.emails)}},{key:"removeEmail",value:function(e){var i=this.emails.indexOf(e);-1!==i&&this.emails.splice(i,1),this.buildList(this.emails)}},{key:"emailsCount",value:function(){alert("Current email count is: ".concat(this.emails.length))}},{key:"onBlur",value:function(e){var i,t;console.log(null==e||null===(i=e.target)||void 0===i?void 0:i.value,"onBlur event");var n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;""!==n&&this.addEmail(n)}}])&&i(t.prototype,n),a&&i(t,a),e}();e.setup=function(e,i){return new t(e,i)}}));
//# sourceMappingURL=multiple-email-form.min.js.map
