!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).shareForm={})}(this,(function(e){"use strict";function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(e){var t,a=document.createElement("div");return a.dataset.shareForm="share-box-email-label-container",a.tabIndex=0,a.classList.add((t=e.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?"valid":"invalid")),a.innerHTML=function(e){var t=e.email;return'\n    <label data-share-form="share-box-email-label">\n      <span>'.concat(t,'<span>\n      <span data-share-form="share-box-email-close" tabindex="0"><img src=').concat("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB2aWV3Qm94PSIwIDAgOCA4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTggMC44TDcuMiAwTDQgMy4yTDAuOCAwTDAgMC44TDMuMiA0TDAgNy4yTDAuOCA4TDQgNC44TDcuMiA4TDggNy4yTDQuOCA0TDggMC44WiIgZmlsbD0iIzA1MDAzOCIvPgo8L3N2Zz4K","></span>\n    </label>\n  ")}(e),a.querySelector('[data-share-form="share-box-email-close"]').addEventListener("click",(function(t){e.action(a)})),a.addEventListener("keydown",(function(t){13!==t.keyCode&&"Enter"!==t.code||e.action(a)})),a},n=function(e,t){i(e,t)},i=function(e,t){var a,n=null==e||null===(a=e.target)||void 0===a?void 0:a.value;""!==n&&t(n)},o=function(e){var t,a=document.createElement("div");a.dataset.shareForm="share-box-input-container",a.innerHTML=(t=e.placeholder,'\n    <input type="email" placeholder="'.concat(t,'" multiple>\n  '));var o=a.querySelector("input");return o.addEventListener("blur",(function(t){n(t,e.action),t.target.value=""})),o.addEventListener("keydown",(function(t){(188===t.keyCode||13===t.keyCode||["Comma","Enter"].includes(t.code))&&(!function(e,t){i(e,t)}(t,e.action),t.target.value="",o.removeEventListener("blur",n))})),o.addEventListener("input",(function(e){var t=e.target.value.replace(/,/g,"");e.target.value=t})),o.addEventListener("paste",(function(t){!function(e,t){(e.clipboardData||window.clipboardData).getData("text").split(",").forEach((function(e){return t(e)}))}(t,e.action),t.target.blur()})),a},r=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t,this.list=document.createElement("span"),this.props=a,this.emails=(null==a?void 0:a.emails)||[],this.buildList(this.emails)}var n,i,r;return n=e,(i=[{key:"buildList",value:function(){var e=this;this.emails.forEach((function(t){var n=a({email:t,action:function(){return e.removeEmail(n)}});e.list.appendChild(n)})),this.selector.appendChild(this.list),this.selector.appendChild(o({placeholder:"add more people...",action:function(t){return e.addEmail(t)}}))}},{key:"addEmail",value:function(e){this.appendChildEmail(e)}},{key:"randomEmail",value:function(){var e=["push@push.it","peter@doe.com","linda@doe.ru","lisa.pater@doe.com","floor@longurl.it","jan@longurl.com","robert@longurl.ru","britt.pater@longurl.com"],t=e[Math.floor(Math.random()*e.length)];this.appendChildEmail(t)}},{key:"removeEmail",value:function(e){this.list.removeChild(e)}},{key:"appendChildEmail",value:function(e){var t=this,n=a({email:e,action:function(){return t.removeEmail(n)}});this.list.appendChild(n)}},{key:"emailsCount",value:function(){var e=this.list.querySelectorAll('[data-share-form="share-box-email-label-container"]').length;alert("Current email count is: ".concat(e))}}])&&t(n.prototype,i),r&&t(n,r),e}();e.setup=function(e,t){return new r(e,t)}}));
//# sourceMappingURL=multiple-email-form.min.js.map
