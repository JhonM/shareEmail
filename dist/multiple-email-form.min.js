!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).shareForm={})}(this,(function(e){"use strict";function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(e){var n,t=document.createElement("div");return t.dataset.shareForm="share-box-email-label-container",t.tabIndex=0,t.classList.add((n=e.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())?"valid":"invalid")),t.innerHTML=function(e){var n=e.email;return'\n    <label data-share-form="share-box-email-label">\n      '.concat(n,' <span data-share-form="share-box-email-close" tabindex="0">x</span>\n    </label>\n  ')}(e),t.querySelector('[data-share-form="share-box-email-close"]').addEventListener("click",(function(n){e.action(t)})),t},i=function(e,n){a(e,n)},a=function(e,n){var t,i=null==e||null===(t=e.target)||void 0===t?void 0:t.value;""!==i&&n(i)},l=function(e){var n,t=document.createElement("div");t.dataset.shareForm="share-box-input-container",t.innerHTML=(n=e.placeholder,'\n    <input type="email" placeholder="'.concat(n,'" multiple>\n  '));var l=t.querySelector("input");return l.addEventListener("blur",(function(n){l.value="",i(n,e.action)})),l.addEventListener("keypress",(function(n){["Comma","Enter"].includes(n.code)&&(!function(e,n){a(e,n)}(n,e.action),l.focus(),l.removeEventListener("blur",i))})),l.addEventListener("paste",(function(n){!function(e,n){(e.clipboardData||window.clipboardData).getData("text").split(",").forEach((function(e){return n(e)}))}(n,e.action),l.focus(),l.removeEventListener("blur",i)})),t},o=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=n,this.list=document.createElement("span"),this.props=t,this.emails=(null==t?void 0:t.emails)||[],this.build(this.emails)}var i,a,o;return i=e,(a=[{key:"build",value:function(){this.buildList(this.emails)}},{key:"buildList",value:function(){var e=this;this.emails.forEach((function(n){var i=t({email:n,action:function(){return e.removeEmail(i)}});e.list.appendChild(i),e.selector.appendChild(e.list)})),this.selector.appendChild(l({placeholder:this.emails.length>0?"add more people...":"add a person...",action:function(n){return e.addEmail(n)}}))}},{key:"addEmail",value:function(e){this.appendChildEmail(e)}},{key:"randomEmail",value:function(){this.appendChildEmail("push@push.it")}},{key:"removeEmail",value:function(e){this.list.removeChild(e)}},{key:"appendChildEmail",value:function(e){var n=this,i=t({email:e,action:function(){return n.removeEmail(i)}});this.list.appendChild(i)}},{key:"emailsCount",value:function(){alert("Current email count is: ".concat(this.emails.length))}}])&&n(i.prototype,a),o&&n(i,o),e}();e.setup=function(e,n){return new o(e,n)}}));
//# sourceMappingURL=multiple-email-form.min.js.map
