{"version":3,"file":"index.js","sources":["../../src/components/email-label/email-label.js","../../src/components/email-input/email-input.js","../../src/shareForm/index.js","../../src/index.js"],"sourcesContent":["const labelTemplate = ({ email }) =>\n  `\n    <label data-share-form=\"share-box-email-label\">\n      ${email} <span data-share-form=\"share-box-email-close\" tabindex=\"0\">x</span>\n    </label>\n  `;\n\nexport default (props) => {\n  const { valid } = props;\n  const template = document.createElement('div');\n  template.dataset.shareForm = 'share-box-email-label-container';\n  template.tabIndex = 0;\n  template.classList.add(valid ? 'valid' : 'invalid');\n  template.innerHTML = labelTemplate(props);\n  template\n    .querySelector('[data-share-form=\"share-box-email-close\"]')\n    .addEventListener('click', (e) => {\n      props.action(e);\n    });\n\n  return template;\n};\n","const labelTemplate = ({ placeholder }) =>\n  `\n    <input type=\"email\" placeholder=\"${placeholder}\" />\n  `;\n\nexport default (props) => {\n  const template = document.createElement('div');\n  template.dataset.shareForm = 'share-box-input-container';\n  template.innerHTML = labelTemplate(props);\n  template.querySelector('input').addEventListener('blur', (e) => {\n    props.onBlur(e);\n  });\n\n  return template;\n};\n","import { emailLabel } from '../components/email-label';\nimport { emailInput } from '../components/email-input';\n\nexport default class shareForm {\n  constructor(selector, props) {\n    this.selector = selector;\n    this.props = props;\n    this.emails = props?.emails || [];\n\n    this.build(this.emails);\n  }\n\n  build() {\n    this.buildList(this.emails);\n  }\n\n  buildList() {\n    while (this.selector.firstChild) {\n      this.selector.removeChild(this.selector.firstChild);\n    }\n    this.emails.forEach((email) => {\n      this.selector.appendChild(\n        emailLabel({\n          email,\n          action: () => this.removeEmail(email),\n          valid: false,\n        })\n      );\n    });\n    this.selector.appendChild(\n      emailInput({\n        placeholder:\n          this.emails.length > 0 ? 'add more people...' : 'add a person...',\n        onBlur: (e) => this.onBlur(e),\n      })\n    );\n  }\n\n  addEmail(email) {\n    this.emails.push(email);\n    this.build(this.emails);\n  }\n\n  randomEmail() {\n    this.emails.push('push@push.it');\n\n    this.build(this.emails);\n  }\n\n  removeEmail(email) {\n    const index = this.emails.indexOf(email);\n    if (index !== -1) {\n      this.emails.splice(index, 1);\n    }\n\n    this.buildList(this.emails);\n  }\n\n  emailsCount() {\n    alert(`Current email count is: ${this.emails.length}`);\n  }\n\n  onBlur(e) {\n    console.log(e?.target?.value, 'onBlur event');\n    const newEmail = e?.target?.value;\n    if (newEmail === '') return;\n    this.addEmail(newEmail);\n  }\n}\n","import shareForm from \"./shareForm\";\n\nexport const setup = (selector, props) => new shareForm(selector, props);\n"],"names":["labelTemplate"],"mappings":"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"}