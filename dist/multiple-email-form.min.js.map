{"version":3,"file":"multiple-email-form.min.js","sources":["../src/components/email-label/email-label.js","../src/shareForm/index.js","../src/components/email-input/email-input.js","../src/index.js"],"sourcesContent":["const labelTemplate = ({ email }) =>\n  `\n    <label class=\"share-box-email-label\">\n      ${email} <span class=\"share-box-email-close\" tabindex=\"0\">x</span>\n    </label>\n  `;\n\nexport default (props) => {\n  const { valid } = props;\n  const template = document.createElement('div');\n  template.className = 'share-box-email-label-container';\n  template.tabIndex = 0;\n  template.classList.add(valid ? 'valid' : 'invalid');\n  template.innerHTML = labelTemplate(props);\n  template\n    .querySelector('.share-box-email-close')\n    .addEventListener('click', (e) => {\n      props.action(e);\n    });\n\n  return template;\n};\n","import { emailLabel } from '../components/email-label';\nimport { emailInput } from '../components/email-input';\n\nexport default class shareForm {\n  constructor(selector, props) {\n    this.selector = selector;\n    this.props = props;\n    this.emails = props?.emails || [];\n\n    this.build(this.emails);\n  }\n\n  build() {\n    this.buildList(this.emails);\n  }\n\n  buildList() {\n    this.selector.innerHTML = '';\n    this.emails.forEach((email) => {\n      this.selector.appendChild(\n        emailLabel({\n          email,\n          action: () => this.removeEmail(email),\n          valid: false,\n        })\n      );\n    });\n    this.selector.appendChild(\n      emailInput({\n        placeholder:\n          this.emails.length > 0 ? 'add more people...' : 'add a person...',\n        onBlur: (e) => this.onBlur(e),\n      })\n    );\n  }\n\n  addEmail(email) {\n    this.emails.push(email);\n    this.build(this.emails);\n  }\n\n  randomEmail() {\n    this.emails.push('push@push.it');\n\n    this.build(this.emails);\n  }\n\n  removeEmail(email) {\n    const index = this.emails.indexOf(email);\n    if (index !== -1) {\n      this.emails.splice(index, 1);\n    }\n\n    this.buildList(this.emails);\n  }\n\n  emailsCount() {\n    alert(`Current email count is: ${this.emails.length}`);\n  }\n\n  onBlur(e) {\n    console.log(e?.target?.value, 'onBlur event');\n    const newEmail = e?.target?.value;\n    if (newEmail === '') return;\n    this.addEmail(newEmail);\n  }\n}\n","const labelTemplate = ({ placeholder }) =>\n  `\n    <input type=\"email\" placeholder=\"${placeholder}\" />\n  `;\n\nexport default (props) => {\n  const template = document.createElement('div');\n  template.className = 'share-box-input-container';\n  template.innerHTML = labelTemplate(props);\n  template.querySelector('input').addEventListener('blur', (e) => {\n    props.onBlur(e);\n  });\n\n  return template;\n};\n","import shareForm from \"./shareForm\";\n\nexport const setup = (selector, props) => new shareForm(selector, props);\n"],"names":["shareForm","selector","props","emails","build","this","buildList","placeholder","template","innerHTML","forEach","email","_this","appendChild","valid","document","createElement","className","tabIndex","classList","add","querySelector","addEventListener","e","action","emailLabel","removeEmail","length","onBlur","push","index","indexOf","splice","alert","console","log","target","_e$target","value","newEmail","_e$target2","addEmail"],"mappings":"uZAAA,ICGqBA,wBACPC,EAAUC,8GACfD,SAAWA,OACXC,MAAQA,OACRC,QAASD,MAAAA,SAAAA,EAAOC,SAAU,QAE1BC,MAAMC,KAAKF,oDAGlB,gBACOG,UAAUD,KAAKF,iCAGtB,eCXcD,EALSK,EAMjBC,cDWCP,SAASQ,UAAY,QACrBN,OAAOO,SAAQ,SAACC,GACnBC,EAAKX,SAASY,qBDZJX,OAPSS,EAQfG,EAAUZ,EAAVY,MACFN,EAAWO,SAASC,cAAc,cACxCR,EAASS,UAAY,kCACrBT,EAASU,SAAW,EACpBV,EAASW,UAAUC,IAAIN,EAAQ,QAAU,WACzCN,EAASC,WAbcE,EAaYT,EAbZS,mEAGjBA,mFAWNH,EACGa,cAAc,0BACdC,iBAAiB,SAAS,SAACC,GAC1BrB,EAAMsB,OAAOD,MAGVf,ECADiB,CAAW,CACTd,MAAAA,EACAa,OAAQ,kBAAMZ,EAAKc,YAAYf,IAC/BG,OAAO,aAIRb,SAASY,aCtBFX,EDuBC,CACTK,YACEF,KAAKF,OAAOwB,OAAS,EAAI,qBAAuB,kBAClDC,OAAQ,SAACL,UAAMX,EAAKgB,OAAOL,MCzB3Bf,EAAWO,SAASC,cAAc,QAC/BC,UAAY,4BACrBT,EAASC,WARcF,EAQYL,EARZK,6DAEcA,eAOrCC,EAASa,cAAc,SAASC,iBAAiB,QAAQ,SAACC,GACxDrB,EAAM0B,OAAOL,MAGRf,4BDuBP,SAASG,QACFR,OAAO0B,KAAKlB,QACZP,MAAMC,KAAKF,mCAGlB,gBACOA,OAAO0B,KAAK,qBAEZzB,MAAMC,KAAKF,mCAGlB,SAAYQ,OACJmB,EAAQzB,KAAKF,OAAO4B,QAAQpB,IACnB,IAAXmB,QACG3B,OAAO6B,OAAOF,EAAO,QAGvBxB,UAAUD,KAAKF,mCAGtB,WACE8B,wCAAiC5B,KAAKF,OAAOwB,+BAG/C,SAAOJ,WACLW,QAAQC,IAAIZ,MAAAA,aAAAA,EAAGa,2BAAHC,EAAWC,MAAO,oBACxBC,EAAWhB,MAAAA,aAAAA,EAAGa,2BAAHI,EAAWF,MACX,KAAbC,QACCE,SAASF,gDE9DG,SAACtC,EAAUC,UAAU,IAAIF,EAAUC,EAAUC"}